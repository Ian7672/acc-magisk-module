<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Charging Controller (ACC)</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem 0;
            background-color: var(--primary-color);
            color: white;
            border-radius: 8px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        h2 {
            font-size: 1.8rem;
            margin: 1.5rem 0 1rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
        }
        
        h3 {
            font-size: 1.4rem;
            margin: 1.2rem 0 0.8rem;
            color: var(--dark-color);
        }
        
        section {
            background: white;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 1rem 0;
        }
        
        .badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: bold;
            text-decoration: none;
            color: white;
        }
        
        .kofi {
            background-color: #ff5e5b;
        }
        
        .trakteer {
            background-color: #e74c3c;
        }
        
        .download {
            background-color: var(--success-color);
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .feature {
            background: var(--light-color);
            padding: 1rem;
            border-radius: 6px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .command {
            background: #f1f1f1;
            padding: 0.5rem;
            border-radius: 4px;
            font-family: monospace;
            margin: 0.5rem 0;
            overflow-x: auto;
        }
        
        .note {
            background: #fff8e1;
            padding: 1rem;
            border-left: 4px solid var(--warning-color);
            margin: 1rem 0;
        }
        
        .warning {
            background: #ffebee;
            padding: 1rem;
            border-left: 4px solid var(--accent-color);
            margin: 1rem 0;
        }
        
        .faq-item {
            margin-bottom: 1rem;
        }
        
        .faq-question {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            color: var(--dark-color);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Advanced Charging Controller (ACC)</h1>
        <p>Extend your battery life by controlling charging parameters</p>
    </header>

    <section id="support">
        <h2>Support Me / Sponsorship</h2>
        <p>If you like my work, you can support me on these platforms:</p>
        <div class="badges">
            <a href="https://ko-fi.com/ian7672" class="badge kofi">Ko-fi</a>
            <a href="https://trakteer.id/ian7672" class="badge trakteer">Trakteer</a>
        </div>
    </section>

    <section id="enhancements">
        <h2>Enhanced by github.com/Ian7672</h2>
        <ul>
            <li>Stop charging: 90%</li>
            <li>Resume charging: 80%</li>
            <li>Idle mode: 90%</li>
            <li>Safe shutdown minimum: 2%</li>
            <li>Overheat: only warning, safe up to 55‚ÄØ¬∞C</li>
            <li>Notifications:
                <ul>
<ul>
  <li>When charger is connected ‚Üí "üîå Charger connected"</li>
  <li>When idle/charging paused (90%) ‚Üí "‚è∏Ô∏è Charging paused at 90%"</li>
  <li>When charging resumes at 80% ‚Üí "‚ñ∂Ô∏è Charging resumed"</li>
  <li>When battery temperature reaches ‚â•45 ¬∞C ‚Üí "üå°Ô∏è Battery warm"</li>
  <li>When battery is hot (‚â•55 ¬∞C) ‚Üí "‚ö†Ô∏è Battery temperature has reached 55¬∞C!"</li>
  <li>When idle mode is active (90%) ‚Üí "üõë Idle mode enabled"</li>
  <li>When battery level <20% ‚Üí "üìâ Battery low" (once per level, reset on unplug)</li>
</ul>

                </ul>
            </li>
            <li>No forced shutdown when battery is hot, safe for long-term use</li>
        </ul>
        <p>This module is based on <a href="https://github.com/VR-25/acc">VR-25/acc</a> and further enhanced by <a href="https://github.com/Ian7672/acc-magisk-module">Ian7672/acc-magisk-module</a>.</p>
    </section>

    <section id="download">
        <h2>Download Latest Release</h2>
        <div class="badges">
            <a href="https://github.com/Ian7672/acc-magisk-module/releases/latest" class="badge download">Download Latest Release</a>
        </div>
    </section>

    <section id="description">
        <h2>DESCRIPTION</h2>
        <p>ACC is an Android software for <a href="https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries">extending battery service life</a> by controlling charging current, temperature, and voltage. This module is compatible with any root solution and installs systemlessly.</p>
    </section>

    <section id="battery-guide">
        <h2>Practical & Technical Battery Guide</h2>
        
        <h3>1. Lithium-Ion Battery Basics</h3>
        <p>Anode (graphite), cathode (NMC/LCO/LFP), electrolyte, separator. SEI layer forms on anode, stabilizes battery but excessive growth reduces capacity. Aging factors: temperature (most critical), charge cycles, SoC during storage, fast charging (heat).</p>
        
        <h3>2. Degradation Mechanisms</h3>
        <p>SEI growth, electrode cracking, electrolyte breakdown, increased resistance, calendar aging (high SoC/high temp storage).</p>
        
        <h3>3. Charging Phases</h3>
        <p>CC (Constant Current): fast initial charge. CV (Constant Voltage): near full, voltage held, current drops, more stress. Frequent 100% charging keeps battery in CV phase longer, accelerates aging.</p>
        
        <h3>4. SoC & Cycles</h3>
        <p>Top-up charging (20‚Äì80%) is healthier than deep discharge (0‚Äì100%). Avoid 0% and 100% when possible.</p>
        
        <h3>5. Practical SoC Recommendations</h3>
        <p>Storage: ~40‚Äì60% (ideally 50%), recharge every 3‚Äì6 months, store cool/dry. Daily use: 20‚Äì80% or 30‚Äì90%. Full charge OK for travel, but don't leave full for long.</p>
        
        <h3>6. Temperature Management</h3>
        <p>Ideal: 15‚Äì25¬∞C (storage), 20‚Äì35¬∞C (use/charge). High temp (>40¬∞C): faster aging, swelling risk. Low temp (<0¬∞C): don't charge, risk of lithium plating.</p>
        
        <h3>7. Charging While In Use</h3>
        <p>Main risk: heat stacking. Reduce load, ventilate, use quality charger/cable, let cool if hot (>40¬∞C).</p>
        
        <h3>8. Fast Charging</h3>
        <p>Convenient but increases heat and aging. Use occasionally, prefer slow charging for daily use.</p>
        
        <h3>9. Powerbank Use</h3>
        <p>Prefer quality powerbanks with protection. Passthrough increases heat, shortens lifespan.</p>
        
        <h3>10. Charger Bypass / Power-Path</h3>
        <p>Modern devices may route power directly to system, reducing battery stress during heavy use.</p>
        
        <h3>11. Daily Checklist</h3>
        <p>Store at ~50% for long-term. Top-up charging is healthier than routine 0‚Üí100%. Avoid heat, use quality accessories, enable charge limit if available. Replace swollen batteries at authorized service.</p>
        
        <h3>12. FAQ</h3>
        <p>Overnight charging to 100% is OK sometimes, but not every night. Frequent top-ups are better than deep discharge. Powerbank can damage battery if poor quality or excessive heat. Wait for device to cool before charging if hot. Bypass mode is generally safe if implemented correctly.</p>
        
        <h3>13. Troubleshooting</h3>
        <p>Rapid capacity drop: check temperature, charging habits. Swelling: stop use/charging, replace battery. Overheat: unplug, let cool, check for background apps/case. Inaccurate SoC: recalibrate occasionally (charge to 100%, discharge to ~5‚Äì10%, recharge).</p>
        
        <h3>14. Example Scenarios</h3>
        <p>Daily use: charge overnight to 80%, top-up as needed, avoid heavy use while charging. Storage: set to 50%, turn off, store cool, recharge every 3 months. Continuous use: use bypass/preserve battery if available, limit SoC to 50‚Äì60% if battery not needed.</p>
        
        <h3>15. Takeaway</h3>
        <p>Temperature > SoC > current ‚Äî order of importance for battery life. Store at ~50% for long-term. Top-up charging (20‚Äì80%) is healthier than routine 0‚Üí100%. Avoid heat, use quality accessories, enable charge limit if available. Bypass charger is good if properly implemented.</p>
    </section>

    <section id="license">
        <h2>LICENSE</h2>
        <p>Copyright 2017-2023, VR25</p>
        <p>GPLv3 ‚Äî see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
    </section>

    <section id="disclaimer">
        <h2>DISCLAIMER</h2>
        <p>Use at your own risk. The author assumes no responsibility for any damage or issues caused by use/misuse. Always use official links.</p>
    </section>

    <section id="warnings">
        <h2>WARNINGS</h2>
        <p>ACC modifies low-level kernel parameters to control charging. Some devices (e.g., Xiaomi Poco X3 Pro) may have hardware quirks. Use auto shutdown to avoid deep discharge. See <a href="https://forum.xda-developers.com/t/rom-official-arrowos-11-0-android-11-0-vayu-bhima.4267263/post-85119331">XDA post</a> for details.</p>
    </section>

    <section id="prerequisites">
        <h2>PREREQUISITES</h2>
        <ul>
            <li>Android or KaiOS</li>
            <li>Any root solution (KernelSU, Magisk, SuperSU, etc)</li>
            <li>Busybox (if not using KernelSU/Magisk)</li>
        </ul>
    </section>

    <section id="quick-start">
        <h2>QUICK START</h2>
        <ol>
            <li>Flash the zip or use a front-end app (requires root).</li>
            <li>Default config is safe for most users. Use <span class="command">acc</span> wizard for setup.</li>
            <li>For issues, see troubleshooting below.</li>
        </ol>
    </section>

    <section id="setup-usage">
        <h2>SETUP/USAGE</h2>
        <p>The <span class="command">acc</span> command is a built-in wizard. Run it for an interactive setup.</p>
        <p>Alternatively, use a front-end app like AccA.</p>

        <h3>Essential Terminal Commands</h3>
        <div class="command">acc</div>
        <p>Launches the setup wizard.</p>
        
        <div class="command">accd</div>
        <p>Starts/restarts the ACC daemon.</p>
        
        <div class="command">accd.</div>
        <p>Stops the ACC daemon.</p>
        
        <div class="command">acc [pause] [resume]</div>
        <p>Quickly set pause and resume capacities. Example: <span class="command">acc 80 75</span> pauses at 80%, resumes at 75%.</p>
        
        <div class="command">acc -s c [mA]</div>
        <p>Set max charging current. Example: <span class="command">acc -s c 500</span> sets a 500 mA limit.</p>
        
        <div class="command">acc -s v [mV]</div>
        <p>Set max charging voltage. Example: <span class="command">acc -s v 4100</span> sets a 4100 mV limit.</p>
        
        <div class="command">acc -s s</div>
        <p>Manually select and enforce a charging switch.</p>
        
        <div class="command">acc -t</div>
        <p>Test all available charging switches to find working ones.</p>
        
        <div class="command">acc -l</div>
        <p>View the ACC daemon log for debugging.</p>
        
        <div class="command">acc -u</div>
        <p>Upgrade ACC to the latest version.</p>
        
        <p>For the full list of commands, run <span class="command">acc --help</span>.</p>
    </section>

    <section id="troubleshooting">
        <h2>TROUBLESHOOTING</h2>
        
        <h3>Charging Switch Issues</h3>
        <p>By default, ACC automatically selects a charging switch. If charging doesn't pause/resume correctly, run <span class="command">acc -t</span> to test switches. Then, use <span class="command">acc -s s</span> to manually enforce a reliable switch from the list.</p>
        
        <h3>Slow Charging</h3>
        <p>Can be caused by:</p>
        <ul>
            <li>Setting a low current limit (<span class="command">maxChargingCurrent</span>).</li>
            <li>The cooldown cycle being active. Adjust <span class="command">cooldownRatio</span> (e.g., <span class="command">(50 10)</span>) or <span class="command">cooldownCurrent</span>.</li>
            <li>A problematic charging switch. Try enforcing a different one.</li>
        </ul>
        
        <h3>Daemon Stopped (accd)</h3>
        <p>Check the log with <span class="command">acc -l</span>. A common reason (exit code 7) is all automatic charging switches failing. Solve this by manually enforcing a working switch with <span class="command">acc -s s</span>.</p>
        
        <h3>Battery Level (%) Seems Wrong</h3>
        <p>Some devices have a discrepancy between the kernel and Android's reported capacity. Enable <span class="command">capacity_sync=true</span> or <span class="command">capacity_mask=true</span> in the config to sync them.</p>
        
        <h3>Logs and Diagnostics</h3>
        <p>Run <span class="command">acc -le</span> to export all logs to a <span class="command">.tgz</span> file in your <span class="command">/sdcard/Download/</span> folder. This is useful for reporting issues.</p>
    </section>

    <section id="faq">
        <h2>FREQUENTLY ASKED QUESTIONS (FAQ)</h2>
        
        <div class="faq-item">
            <p class="faq-question">Q: How do I report an issue?</p>
            <p>A: Provide detailed information and attach the logs generated by <span class="command">acc -le</span> right after the problem occurs.</p>
        </div>
        
        <div class="faq-item">
            <p class="faq-question">Q: Does ACC work when the phone is off?</p>
            <p>A: No, it requires Android to be running. It does work in some custom recoveries.</p>
        </div>
        
        <div class="faq-item">
            <p class="faq-question">Q: What is "idle mode"?</p>
            <p>A: A state where the device runs directly off the charger, bypassing the battery, reducing wear. Not all devices support native idle mode. Emulated idle mode can be achieved by setting voltage limits (e.g., <span class="command">acc 3900</span>) or setting <span class="command">resume_capacity</span> very close to <span class="command">pause_capacity</span> (e.g., 80 and 79).</p>
        </div>
        
        <div class="faq-item">
            <p class="faq-question">Q: How to set day/night profiles?</p>
            <p>A: Use the built-in scheduler. Example to set a night profile that activates at 10 PM:
            <span class="command">acc -c a ": at 22:00 acc -s pc=50 mcc=500 mcv=3900; acc -n 'Night profile activated'"</span></p>
        </div>
    </section>

    <section id="links">
        <h2>LINKS & REFERENCES</h2>
        <ul>
            <li><a href="https://github.com/VR-25/acc">Original Project (VR-25/acc)</a></li>
            <li><a href="https://github.com/Ian7672/acc-magisk-module">Ian7672's Enhancement</a></li>
            <li><a href="https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries">Battery University - Prolonging Lithium-based Batteries</a></li>
            <li><a href="https://github.com/MatteCarra/AccA/releases">Frontend App (AccA)</a></li>
            <li><a href="https://forum.xda-developers.com/apps/magisk/module-magic-charging-switch-cs-v2017-9-t3668427">XDA Thread</a></li>
            <li><a href="https://t.me/acc_group">Telegram Support Group</a></li>
        </ul>
    </section>

    <footer>
        <p>Advanced Charging Controller (ACC) - Enhanced by Ian7672</p>
        <p>Based on the original work by VR-25</p>
    </footer>
</body>
</html>